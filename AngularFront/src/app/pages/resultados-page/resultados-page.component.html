<div class="container">
  <div class="header">
    <h1>Formulario de Evaluación de Desempeño</h1>
    <p class="subtitle">Busque un empleado por su ID para comenzar la evaluación.</p>
  </div>

  <div class="employee-search">
    <div class="form-group form-group-id">
      <label for="codigo">Código del Empleado</label>
      <div class="input-wrapper">
        <input 
          type="text" 
          id="codigo" 
          [formControl]="idEmpleadoControl"
          placeholder="Ingrese el ID y espere..."
          [class.loading]="isLoading"
        >
        <div *ngIf="isLoading" class="spinner"></div>
      </div>
    </div>
    <div class="form-group form-group-name">
      <label for="nombre">Nombre del Empleado</label>
      <input 
        type="text" 
        id="nombre"
        [value]="nombreEmpleado"
        placeholder="Nombre se autocompletará"
        readonly
      >
    </div>
  </div>

  <div *ngIf="errorMensaje" class="error-message">
    <i class="fas fa-exclamation-circle"></i> {{ errorMensaje }}
  </div>

  <div class="evaluation-form" [class.disabled]="!nombreEmpleado">
    <div class="section-title">Competencias</div>
    
    <div class="competencies-list">
      <div *ngFor="let item of competencias" class="competency-item">
        <label [for]="item[0]">{{ item[1] }}</label>
        <div class="slider-container">
          <input 
            type="range" 
            [id]="item[0]" 
            min="0" 
            max="100" 
            [(ngModel)]="valores[item[0]]" 
            class="slider"
            [disabled]="!nombreEmpleado"
          >
          <span class="rating-value">{{ valores[item[0]] }}</span>
        </div>
      </div>
    </div>
    
    <div class="section-title">Comentarios Adicionales</div>
    <textarea 
      id="comentarios" 
      rows="4" 
      [(ngModel)]="comentarios" 
      placeholder="Escriba aquí sus comentarios..."
      [disabled]="!nombreEmpleado"
    ></textarea>

    <div class="form-actions">
      <button type="button" class="btn btn-secondary" (click)="onCancel()">Limpiar</button>
      <button 
        type="button" 
        class="btn btn-primary" 
        (click)="onSubmit()" 
        [disabled]="!nombreEmpleado || isLoading"
      >
        Guardar Evaluación
      </button>
    </div>
  </div>
</div>