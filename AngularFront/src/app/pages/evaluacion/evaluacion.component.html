<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<!-- Contenido principal -->
<div class="evaluacion-page">
  <app-data-table
    [columns]="columns"
    [data]="paginatedEmpleados"
    [loading]="loading"
    [showSearch]="true"
    [showAddButton]="true"
    [showFilterButton]="true"
    [addButtonLabel]="'Agregar Evaluación'"
    [searchPlaceholder]="'Buscar empleados...'"
    [actions]="actions"
    [totalPages]="totalPages"
    [currentPage]="currentPage"
    [totalItems]="empleados.length"
    [itemsPerPage]="itemsPerPage"
    [pageSizeOptions]="pageSizeOptions"
    (onSearch)="onSearch($event)"
    (onAdd)="onAdd()"
    (onFilter)="onFilter()"
    (onAction)="onAction($event)"
    (onPageChange)="onPageChange($event)"
    (onItemsPerPageChange)="onItemsPerPageChange($event)"
  ></app-data-table>

  <!-- Modal para agregar/editar empleado -->
  <app-modal
    [isOpen]="showModal"
    [title]="selectedEmpleado ? 'Editar Empleado' : 'Agregar Empleado'"
    (onClose)="onModalClose()"
  >
    <app-empleado-form
      [empleado]="selectedEmpleado"
      [isEdit]="!!selectedEmpleado"
      (onSave)="onSaveEmpleado($event)"
      (onCancel)="onModalClose()"
    ></app-empleado-form>
  </app-modal>

  <!-- Modal de Confirmación de Eliminación -->
  <app-confirmation-modal
    [isOpen]="showDeleteModal"
    title="Confirmar Eliminación"
    [message]="'¿Está seguro de que desea eliminar al empleado ' + (empleadoToDelete?.name_Employee || '') + '?'"
    (onConfirm)="deleteEmpleado()"
    (onCancel)="closeDeleteModal()"
  ></app-confirmation-modal>
</div>